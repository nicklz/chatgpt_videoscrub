{"ast":null,"code":"var _jsxFileName = \"/home/nick/sites/chatgpt/src/components/VideoGallery.tsx\";\nimport * as React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass VideoGallery extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleHover = event => {\n      const video = event.currentTarget.querySelector('video');\n      const videoWrapper = event.currentTarget;\n      console.log('wrapper', videoWrapper);\n      if (video && videoWrapper) {\n        const x = event.pageX - videoWrapper.offsetLeft;\n        console.log(x);\n        const width = videoWrapper.offsetWidth;\n        // @ts-ignore\n        video.currentTime = x / width * video.duration;\n      }\n    };\n    this.state = {\n      videos: []\n    };\n  }\n  async componentDidMount() {\n    const {\n      query,\n      perPage\n    } = this.props;\n    const response = await fetch(`https://api.pexels.com/videos/search?query=${query}&per_page=${perPage}`, {\n      headers: {\n        Authorization: '563492ad6f9170000100000190359ac9fe214f8aa02fb4d6dabde74d'\n      }\n    });\n    const data = await response.json();\n    this.setState({\n      videos: data.videos.map(video => ({\n        src: video.video_files[0].link\n      }))\n    });\n    console.log(this.state);\n  }\n  render() {\n    const {\n      videos\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-gallery\",\n      children: videos.map((video, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-wrapper\",\n        onMouseMove: this.handleHover,\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          controls: true,\n          preload: \"auto\",\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: video.src\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default VideoGallery;","map":{"version":3,"names":["React","VideoGallery","Component","constructor","props","handleHover","event","video","currentTarget","querySelector","videoWrapper","console","log","x","pageX","offsetLeft","width","offsetWidth","currentTime","duration","state","videos","componentDidMount","query","perPage","response","fetch","headers","Authorization","data","json","setState","map","src","video_files","link","render","index"],"sources":["/home/nick/sites/chatgpt/src/components/VideoGallery.tsx"],"sourcesContent":["import * as React from 'react';\n\ninterface VideoGalleryProps {\n  query: string;\n  perPage: number;\n}\n\ninterface VideoGalleryState {\n  videos: Array<{ src: string }>;\n}\n\nclass VideoGallery extends React.Component<VideoGalleryProps, VideoGalleryState> {\n  constructor(props: VideoGalleryProps) {\n    super(props);\n    this.state = {\n      videos: [],\n    };\n  }\n\n  async componentDidMount() {\n    const { query, perPage } = this.props;\n    const response = await fetch(\n      `https://api.pexels.com/videos/search?query=${query}&per_page=${perPage}`,\n      {\n        headers: {\n          Authorization: '563492ad6f9170000100000190359ac9fe214f8aa02fb4d6dabde74d',\n        },\n      }\n    );\n    const data = await response.json();\n    this.setState({\n      videos: data.videos.map((video: any) => ({ src: video.video_files[0].link })),\n    });\n\n    console.log(this.state)\n  }\n\n\n  handleHover = (event: React.MouseEvent<HTMLDivElement>) => {\n\n    const video = event.currentTarget.querySelector('video')\n    const videoWrapper = event.currentTarget;\n\n    console.log('wrapper', videoWrapper)\n\n    if (video && videoWrapper) {\n      const x = event.pageX - videoWrapper.offsetLeft;\n      console.log(x)\n      const width = videoWrapper.offsetWidth;\n      // @ts-ignore\n      video.currentTime = (x / width) * video.duration;\n    }\n  };\n\n  render() {\n    const { videos } = this.state;\n    return (\n      <div className=\"video-gallery\">\n        {\n          videos.map((video, index) => (\n            <div className=\"video-wrapper\" key={index} onMouseMove={this.handleHover} >\n              <video controls preload=\"auto\">\n                <source src={video.src}></source>\n              </video>\n            </div>\n          ))\n        }\n      </div>\n    );\n  }\n}\n\nexport default VideoGallery;\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAAC;AAW/B,MAAMC,YAAY,SAASD,KAAK,CAACE,SAAS,CAAuC;EAC/EC,WAAW,CAACC,KAAwB,EAAE;IACpC,KAAK,CAACA,KAAK,CAAC;IAAC,KAyBfC,WAAW,GAAIC,KAAuC,IAAK;MAEzD,MAAMC,KAAK,GAAGD,KAAK,CAACE,aAAa,CAACC,aAAa,CAAC,OAAO,CAAC;MACxD,MAAMC,YAAY,GAAGJ,KAAK,CAACE,aAAa;MAExCG,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,YAAY,CAAC;MAEpC,IAAIH,KAAK,IAAIG,YAAY,EAAE;QACzB,MAAMG,CAAC,GAAGP,KAAK,CAACQ,KAAK,GAAGJ,YAAY,CAACK,UAAU;QAC/CJ,OAAO,CAACC,GAAG,CAACC,CAAC,CAAC;QACd,MAAMG,KAAK,GAAGN,YAAY,CAACO,WAAW;QACtC;QACAV,KAAK,CAACW,WAAW,GAAIL,CAAC,GAAGG,KAAK,GAAIT,KAAK,CAACY,QAAQ;MAClD;IACF,CAAC;IAtCC,IAAI,CAACC,KAAK,GAAG;MACXC,MAAM,EAAE;IACV,CAAC;EACH;EAEA,MAAMC,iBAAiB,GAAG;IACxB,MAAM;MAAEC,KAAK;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAACpB,KAAK;IACrC,MAAMqB,QAAQ,GAAG,MAAMC,KAAK,CACzB,8CAA6CH,KAAM,aAAYC,OAAQ,EAAC,EACzE;MACEG,OAAO,EAAE;QACPC,aAAa,EAAE;MACjB;IACF,CAAC,CACF;IACD,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;IAClC,IAAI,CAACC,QAAQ,CAAC;MACZV,MAAM,EAAEQ,IAAI,CAACR,MAAM,CAACW,GAAG,CAAEzB,KAAU,KAAM;QAAE0B,GAAG,EAAE1B,KAAK,CAAC2B,WAAW,CAAC,CAAC,CAAC,CAACC;MAAK,CAAC,CAAC;IAC9E,CAAC,CAAC;IAEFxB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACQ,KAAK,CAAC;EACzB;EAmBAgB,MAAM,GAAG;IACP,MAAM;MAAEf;IAAO,CAAC,GAAG,IAAI,CAACD,KAAK;IAC7B,oBACE;MAAK,SAAS,EAAC,eAAe;MAAA,UAE1BC,MAAM,CAACW,GAAG,CAAC,CAACzB,KAAK,EAAE8B,KAAK,kBACtB;QAAK,SAAS,EAAC,eAAe;QAAa,WAAW,EAAE,IAAI,CAAChC,WAAY;QAAA,uBACvE;UAAO,QAAQ;UAAC,OAAO,EAAC,MAAM;UAAA,uBAC5B;YAAQ,GAAG,EAAEE,KAAK,CAAC0B;UAAI;YAAA;YAAA;YAAA;UAAA;QAAU;UAAA;UAAA;UAAA;QAAA;MAC3B,GAH0BI,KAAK;QAAA;QAAA;QAAA;MAAA,QAK1C;IAAC;MAAA;MAAA;MAAA;IAAA,QAEA;EAEV;AACF;AAEA,eAAepC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}