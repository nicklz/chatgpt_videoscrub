{"ast":null,"code":"var _jsxFileName = \"/home/nick/sites/chatgpt/src/components/VideoGallery.tsx\";\nimport * as React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass VideoGallery extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleHover = event => {\n      const video = event.currentTarget;\n      const videoWrapper = event.currentTarget.parentElement;\n      if (video && videoWrapper) {\n        const x = event.pageX - videoWrapper.offsetLeft;\n        const width = videoWrapper.offsetWidth;\n        // @ts-ignore\n        video.currentTime = x / width * video.duration;\n      }\n    };\n    this.state = {\n      videos: []\n    };\n  }\n  async componentDidMount() {\n    const {\n      query,\n      perPage\n    } = this.props;\n    const response = await fetch(`https://api.pexels.com/videos/search?query=${query}&per_page=${perPage}`, {\n      headers: {\n        Authorization: '563492ad6f9170000100000190359ac9fe214f8aa02fb4d6dabde74d'\n      }\n    });\n    const data = await response.json();\n    this.setState({\n      videos: data.videos.map(video => ({\n        src: video.video_files[0].link\n      }))\n    });\n    console.log(this.state);\n  }\n  render() {\n    const {\n      videos\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-gallery\",\n      children: videos.map((video, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-wrapper\",\n        onMouseMove: this.handleHover,\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          src: video.src,\n          preload: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 15\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default VideoGallery;","map":{"version":3,"names":["React","VideoGallery","Component","constructor","props","handleHover","event","video","currentTarget","videoWrapper","parentElement","x","pageX","offsetLeft","width","offsetWidth","currentTime","duration","state","videos","componentDidMount","query","perPage","response","fetch","headers","Authorization","data","json","setState","map","src","video_files","link","console","log","render","index"],"sources":["/home/nick/sites/chatgpt/src/components/VideoGallery.tsx"],"sourcesContent":["import * as React from 'react';\n\ninterface VideoGalleryProps {\n  query: string;\n  perPage: number;\n}\n\ninterface VideoGalleryState {\n  videos: Array<{ src: string }>;\n}\n\nclass VideoGallery extends React.Component<VideoGalleryProps, VideoGalleryState> {\n  constructor(props: VideoGalleryProps) {\n    super(props);\n    this.state = {\n      videos: [],\n    };\n  }\n\n  async componentDidMount() {\n    const { query, perPage } = this.props;\n    const response = await fetch(\n      `https://api.pexels.com/videos/search?query=${query}&per_page=${perPage}`,\n      {\n        headers: {\n          Authorization: '563492ad6f9170000100000190359ac9fe214f8aa02fb4d6dabde74d',\n        },\n      }\n    );\n    const data = await response.json();\n    this.setState({\n      videos: data.videos.map((video: any) => ({ src: video.video_files[0].link })),\n    });\n\n    console.log(this.state)\n  }\n\n\n  handleHover = (event: React.MouseEvent<HTMLDivElement>) => {\n    const video = event.currentTarget;\n    const videoWrapper = event.currentTarget.parentElement;\n    if (video && videoWrapper) {\n      const x = event.pageX - videoWrapper.offsetLeft;\n      const width = videoWrapper.offsetWidth;\n      // @ts-ignore\n      video.currentTime = (x / width) * video.duration;\n    }\n  };\n\n  render() {\n    const { videos } = this.state;\n    return (\n      <div className=\"video-gallery\">\n        {\n          videos.map((video, index) => (\n            <div className=\"video-wrapper\" key={index} onMouseMove={this.handleHover} >\n              <video src={video.src} preload />\n            </div>\n          ))\n        }\n      </div>\n    );\n  }\n}\n\nexport default VideoGallery;\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAAC;AAW/B,MAAMC,YAAY,SAASD,KAAK,CAACE,SAAS,CAAuC;EAC/EC,WAAW,CAACC,KAAwB,EAAE;IACpC,KAAK,CAACA,KAAK,CAAC;IAAC,KAyBfC,WAAW,GAAIC,KAAuC,IAAK;MACzD,MAAMC,KAAK,GAAGD,KAAK,CAACE,aAAa;MACjC,MAAMC,YAAY,GAAGH,KAAK,CAACE,aAAa,CAACE,aAAa;MACtD,IAAIH,KAAK,IAAIE,YAAY,EAAE;QACzB,MAAME,CAAC,GAAGL,KAAK,CAACM,KAAK,GAAGH,YAAY,CAACI,UAAU;QAC/C,MAAMC,KAAK,GAAGL,YAAY,CAACM,WAAW;QACtC;QACAR,KAAK,CAACS,WAAW,GAAIL,CAAC,GAAGG,KAAK,GAAIP,KAAK,CAACU,QAAQ;MAClD;IACF,CAAC;IAjCC,IAAI,CAACC,KAAK,GAAG;MACXC,MAAM,EAAE;IACV,CAAC;EACH;EAEA,MAAMC,iBAAiB,GAAG;IACxB,MAAM;MAAEC,KAAK;MAAEC;IAAQ,CAAC,GAAG,IAAI,CAAClB,KAAK;IACrC,MAAMmB,QAAQ,GAAG,MAAMC,KAAK,CACzB,8CAA6CH,KAAM,aAAYC,OAAQ,EAAC,EACzE;MACEG,OAAO,EAAE;QACPC,aAAa,EAAE;MACjB;IACF,CAAC,CACF;IACD,MAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,EAAE;IAClC,IAAI,CAACC,QAAQ,CAAC;MACZV,MAAM,EAAEQ,IAAI,CAACR,MAAM,CAACW,GAAG,CAAEvB,KAAU,KAAM;QAAEwB,GAAG,EAAExB,KAAK,CAACyB,WAAW,CAAC,CAAC,CAAC,CAACC;MAAK,CAAC,CAAC;IAC9E,CAAC,CAAC;IAEFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACjB,KAAK,CAAC;EACzB;EAcAkB,MAAM,GAAG;IACP,MAAM;MAAEjB;IAAO,CAAC,GAAG,IAAI,CAACD,KAAK;IAC7B,oBACE;MAAK,SAAS,EAAC,eAAe;MAAA,UAE1BC,MAAM,CAACW,GAAG,CAAC,CAACvB,KAAK,EAAE8B,KAAK,kBACtB;QAAK,SAAS,EAAC,eAAe;QAAa,WAAW,EAAE,IAAI,CAAChC,WAAY;QAAA,uBACvE;UAAO,GAAG,EAAEE,KAAK,CAACwB,GAAI;UAAC,OAAO;QAAA;UAAA;UAAA;UAAA;QAAA;MAAG,GADCM,KAAK;QAAA;QAAA;QAAA;MAAA,QAG1C;IAAC;MAAA;MAAA;MAAA;IAAA,QAEA;EAEV;AACF;AAEA,eAAepC,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}